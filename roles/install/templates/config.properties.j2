# Role-Specific Configuration
{% if hostvars[inventory_hostname].role == 'master' %}
coordinator=true
node-scheduler.include-coordinator=false
{% elif hostvars[inventory_hostname].role == 'worker' %}
coordinator=false
{% endif %}
http-server.http.port=8080
discovery.uri=http://${TRINO_COORDINATOR}:8080
query.max-memory=800GB
query.max-total-memory=1600GB
spill-enabled=true
spiller-spill-path=/data/trino/trino-spill
max-spill-per-node=800GB
query-max-spill-per-node=800GB
#spiller-spill-path=s3://${TRINO_BUCKET}/spill
spiller-max-used-space-threshold=0.9
#spiller-threads=4
query.max-memory-per-node=120GB
retry-policy=TASK
task.low-memory-killer.policy=total-reservation-on-blocked-nodes

